(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("d3-dispatch"),require("d3-selection"),require("d3-zoom"),require("@d3fc/d3fc-rebind")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-selection","d3-zoom","@d3fc/d3fc-rebind"],b):(a="undefined"==typeof globalThis?a||self:globalThis,b(a.fc=a.fc||{},a.d3,a.d3,a.d3,a.fc))})(this,function(a,b,c,e,f){'use strict';var g=function(c,a){if(null==c&&null==a)return!0;var b=c.domain(),e=a.domain();return b.length===e.length&&b.every(function(a,b){var c;return(null===a||void 0===a?void 0:a.valueOf())===(null===(c=e[b])||void 0===c?void 0:c.valueOf())})},h=function(c,a){return e.zoomIdentity.scale(c.k/a.k).translate(c.x-a.x,c.y-a.y)},j=Symbol("d3fc-domain-zoom");a.zoom=function(){var a=b.dispatch("zoom"),d=e.zoom().on("zoom",function(b){var e=b.transform,f=this,i=e,k=f[j],l=k.originalXScale,m=k.previousXScale,n=k.xScale,o=k.originalYScale,p=k.previousYScale,q=k.yScale,r=k.previousTransform;g(m,n)&&g(p,q)||(l=null===n||void 0===n?void 0:n.copy(),o=null===q||void 0===q?void 0:q.copy(),i=h(e,r)),null!=n&&(m=i.rescaleX(l.range(n.range())),n.domain(m.domain())),null!=q&&(p=i.rescaleY(o.range(q.range())),q.domain(p.domain())),r=i,f[j]={originalXScale:l,previousXScale:m,xScale:n,originalYScale:o,previousYScale:p,yScale:q,previousTransform:r},i!==e&&d.transform(c.select(f),i),a.call("zoom")}),i=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null==b&&null==c&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),a.each(function(a,d,f){var g=f[d][j];null!=g&&g.xScale===b&&g.yScale===c&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var h=null===b||void 0===b?void 0:b.copy(),i=null===c||void 0===c?void 0:c.copy();f[d][j]={originalXScale:h,previousXScale:h,xScale:b,originalYScale:i,previousYScale:i,yScale:c,previousTransform:e.zoomIdentity}}).call(d)};return f.rebind(i,a,"on"),f.rebind(i,d,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),i},Object.defineProperty(a,"__esModule",{value:!0})});
